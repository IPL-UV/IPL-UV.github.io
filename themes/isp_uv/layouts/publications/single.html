{{ define "main" }}
<div id="loading-spinner" style="text-align: center; margin-top: 50px;">
  <img src={{ relURL "images/spinner.gif" }} alt="" width="50" height="50">
</div>

<div class="content-container" style="display: none;" id="content-container">
  <div class="title-container">
    <h1>{{ .Title }}</h1>
  </div>

  <textarea id="bibtex_input" style="display:none;">
    {{- range .Params.bibfiles }}
    {{- $path := printf "assets/%s" . }}
    {{- $content := readFile $path }}
    {{ $content }}
    {{- end }}
  </textarea>

  <div class="grid-item grid-filter">
    <div class="filter-container">
      <label for="year-filter">Filter by:</label>
      <select id="year-filter">
        <option value="">All Years</option>
      </select>

      <label for="project-filter"></label>
      <select id="project-filter">
        <option value="">All Projects</option>
      </select>
    </div>
  </div>

  <div class="grid-container" id="bibtex_display"></div>

  <div class="bibtex_template">
    <div class="grid-item bib-item seminar-item project-item">
      <span class="title" style="font-weight: bold;"></span><br>
      <span class="author"></span><br>
      <span class="if booktitle" style="font-style: italic;">
        <span class="booktitle"></span>,
        <span class="if address" style="font-style: normal;">
          <span class="address"></span>
        </span>
      </span>
      <span class="if journal" style="font-style: italic;">
        <span class="journal"></span>
      </span>
      <span class="year"></span><br>
      <span class="project" style="display: none;"></span>

      <div class="card-links">
        <span class="if bibtex">
          <button type="button" class="btn btn-xss btn-success bibtex-toggle"
            onclick="toggleBibtex(this)">BibTeX</button>
        </span>
        <span class="if url">
          <a class="url">
            <button type="button" class="btn btn-xss btn-info">URL</button>
          </a>
        </span>
        <span class="if pdf">
          <a class="pdf" style="color: #FFFFFF;">
            <button type="button" class="btn btn-xss btn-danger">PDF</button>
          </a>
        </span>
        <span class="if doi">
          <a class="doi">
            <button type="button" class="btn btn-xss btn-warning">DOI</button>
          </a>
        </span>

        <span class="if arxiv">
          <a class="arxiv">
            <button type="button" class="btn btn-xss btn-danger">arXiv</button>
          </a>
        </span>

        <span class="if video">
          <a class="video">
            <button type="button" class="btn btn-xss btn-info">Watch!</button>
          </a>
        </span>

        <span class="if code">
          <a class="code">
            <button type="button" class="btn btn-xss btn-success">Code</button>
          </a>
        </span>

        <span class="if project">
          <a class="project">
            <button type="button" class="btn btn-xss btn-primary">Project</button>
          </a>
        </span>

      </div>
      <span class="if doi">
        <div style="display: inline-block;" class="altmetric-embed" data-badge-popover="right" data-badge-type="donut"
          data-hide-no-mentions="true"></div>
      </span>

      <div class="bibtexdata alert alert-success" style="display: none;">
        <span class="bibtex"></span>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript" src={{ relURL "js/jquery-1.12.4.min.js" }} defer></script>
<script type="text/javascript" src={{ relURL "js/bibtex_js.js" }} defer></script>
<!-- <script type="text/javascript" src={{ relURL "js/bibtex_functions.js" }} defer></script> -->
{{ end }}