<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
    <script>
        // Obtén la URL actual
        const currentPath = window.location.pathname;

        // Base URLs
        const baseISP = "https://isp.uv.es";
        const baseHuggingFace = "https://huggingface.co/datasets/isp-uv-es/Web_site_legacy/resolve/main/courses/slides/";

        // Verifica si la ruta empieza con "/slides/"
        if (currentPath.startsWith("/slides/")) {
            // Extrae la subruta después de "/slides/"
            const subpath = currentPath.replace("/slides/", "");

            // Verifica si la URL en ISP existe
            fetch(baseISP + currentPath, { method: "HEAD" })
                .then(response => {
                    if (response.ok) {
                        // Si la URL existe en ISP, redirige a esa URL
                        window.location.href = baseISP + currentPath;
                    } else {
                        // Si no existe, redirige a Hugging Face
                        window.location.href = baseHuggingFace + subpath;
                    }
                })
                .catch(() => {
                    // En caso de error, redirige directamente a Hugging Face
                    window.location.href = baseHuggingFace + subpath;
                });
        } else {
            // Para cualquier otra ruta, muestra un mensaje 404 normal
            document.write("<h1>Page Not Found</h1>");
        }
    </script>
</head>
<body>
</body>
</html>
