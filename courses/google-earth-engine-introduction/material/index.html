<!doctype html><html lang=en-us dir=ltr><head><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ISP - Image and Signal Processing group</title>
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin=anonymous referrerpolicy=no-referrer><link rel="shortcut icon" href=http://isp.uv.es/favicon.ico type=image/x-icon><link rel=stylesheet href=/style/style.css><script src=/js/mode.js></script><script src=https://cdn.jsdelivr.net/npm/marked/marked.min.js></script></head></head><nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top"><div class=container-fluid><a href=/ class="d-lg-none d-flex align-items-center a_logonav"><img src=/images/isp_logo_sinfondo.webp alt="ISP Icon" height=30 class=logo_nav>
<span class="ms-2 text-isp">ISP</span>
</a><button class="navbar-toggler ms-auto" type=button data-bs-toggle=collapse data-bs-target=#navbarTogglerDemo01 aria-controls=navbarTogglerDemo01 aria-expanded=false aria-label="Toggle navigation" style=height:40px>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarTogglerDemo01><ul class="navbar-nav mx-auto mb-lg-0"><li class="nav-item px-2 nav-item-highlight d-none d-lg-block"><a class="nav-link a" aria-current=page href=/github/>ISP</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/people/>People</a></li><li class="nav-item dropdown px-2 nav-item-highlight"><a class="nav-link dropdown-toggle a" href=/github/research/ id=navbarDropdownResearch role=button aria-expanded=false>Research</a><ul class=dropdown-menu aria-labelledby=navbarDropdownResearch><li><a class="dropdown-item a" href=/github/research/machine_learning/>Machine learning</a></li><li><a class="dropdown-item a" href=/github/research/visual_neuroscience/>Visual neuroscience</a></li><li><a class="dropdown-item a" href=/github/research/visual_brain/>Visual brain</a></li><li><a class="dropdown-item a" href=/github/research/earth_science/>Earth science</a></li><li><a class="dropdown-item a" href=/github/research/social_science>Social science</a></li></ul></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/projects/>Projects</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/facilities/>Facilities</a></li><li class="nav-item dropdown px-2 nav-item-highlight"><a class="nav-link dropdown-toggle a" href=/github/publications/journals/ id=navbarDropdownPublications role=button aria-expanded=false>Publications</a><ul class=dropdown-menu aria-labelledby=navbarDropdownPublications><li><a class="dropdown-item a" href=/github/publications/journals/>Journals</a></li><li><a class="dropdown-item a" href=/github/publications/conferences/>Conferences</a></li><li><a class="dropdown-item a" href=/github/publications/books/>Books</a></li><li><a class="dropdown-item a" href=/github/publications/talks/>Talks</a></li><li><a class="dropdown-item a" href=/github/publications/technical_reports/>Technical Reports</a></li><li><a class="dropdown-item a" href=/github/publications/theses/>Theses</a></li></ul></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/code/>Code</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/data/>Data</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/seminars/>Seminars</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/courses/>Courses</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/collaborators/>Collaborators</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/news/>News</a></li><li class="nav-item px-2 nav-item-highlight"><a class="nav-link a" aria-current=page href=/github/contact/>Contact</a></li></ul></div></div></nav><style>.navbar{--bs-navbar-padding-y:0rem !important;background-color:#222!important}.a{color:#949494!important}.a:hover{color:#fff!important}.nav-item-highlight{padding:.4rem}.nav-item-highlight:hover{background-color:#2d70aa!important}.dropdown-menu{background-color:#333!important;color:#fff!important;display:block}.dropdown-item{color:#949494!important}.dropdown-item:hover{background-color:#2d70aa!important;color:#fff!important}.navbar-nav li.nav-item .nav-link,.dropdown-menu .dropdown-item{transition:color .3s,background-color .3s}.nav-link.active,.dropdown-item.active{color:#fff!important;background-color:#007bff!important}.navbar-toggler-icon{background-image:url("data:image/svg+xml,%3csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3e%3cpath stroke='white' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e")}.navbar-toggler{border:none}.navbar-toggler:focus{outline:none}@media(min-width:992px){.dropdown-menu{display:none}.dropdown:hover .dropdown-menu{display:block}}@media(max-width:991px){.navbar-nav{max-height:calc(100vh - 56px);overflow-y:auto}.navbar-nav::-webkit-scrollbar{width:9px}.navbar-nav::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}.navbar-nav::-webkit-scrollbar-thumb:hover{background-color:#555}.navbar-nav .nav-link{font-size:1.2rem}.dropdown-menu .dropdown-item{font-size:1rem}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.navbar .dropdown-toggle::after{content:none!important}.navbar-toggler-icon{width:1.2em;height:1.2em}.navbar-toggler{border:none!important}.navbar-toggler:focus{box-shadow:none!important}.d-flex{height:45px}.a_logonav{text-decoration:none!important}.text-isp{font-size:1.3rem;color:#9d9d9d;display:inline-block;vertical-align:middle;text-decoration:none!important}.navbar-nav{max-height:calc(50vh - 56px);overflow-y:auto}}</style><script>document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".navbar .dropdown");e.forEach(function(e){let t=e.querySelector(".dropdown-toggle");t.addEventListener("click",function(e){window.innerWidth<992&&e.target===t&&(window.location.href=t.href)});let n=e.querySelectorAll(".dropdown-item");n.forEach(function(e){e.addEventListener("click",function(){window.location.href=e.href})})}),document.addEventListener("click",function(t){window.innerWidth<992&&!t.target.closest(".navbar .dropdown")&&e.forEach(function(e){e.querySelector(".dropdown-menu").classList.remove("show")})})})</script><main><div class=container><div class="content-container grid-layout"><div class=box-single><h1></h1></div><div class=box-content><p><h1 id=gee-course-material>GEE Course Material</h1><br><h2 id=part-1-code>Part 1 Code</h2><br><h3 id=gee_tutorial_01js>gee_tutorial_01.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/**** Start of imports. If edited, may not auto-convert in the playground. ****/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>l8</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>ImageCollection</span>(<span style=color:#e6db74>&#34;LANDSAT/LC8_L1T_TOA&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>/***** End of imports. If edited, may not auto-convert in the playground. *****/</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 1. Simple way to show an image
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#e6db74>&#39;LANDSAT/LC8_L1T_TOA/LC81930282013158LGN00&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>image</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>, <span style=color:#a6e22e>trueColor</span>, <span style=color:#e6db74>&#39;True color image&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 2. Filter an image collection selecting date range
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>filtered</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>l8</span>.<span style=color:#a6e22e>filterDate</span>(<span style=color:#e6db74>&#39;2013-01-01&#39;</span>, <span style=color:#e6db74>&#39;2014-12-31&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(filtered.size());
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// The median is computed using map-reduce (automatically!)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>median</span> <span style=color:#f92672>=</span>  <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>median</span>();
</span></span><span style=display:flex><span><span style=color:#75715e>// Does the same thing, but more explicitly, and changes the band names
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>otherMedian</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>reduce</span>(<span style=color:#e6db74>&#39;median&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// Yet another way, even more explicit
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>otherMedian2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>reduce</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>median</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// To show the L8 images in true or false color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trueColor</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;B4&#39;</span>,<span style=color:#e6db74>&#39;B3&#39;</span>,<span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0.3</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>falseColor</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;B5&#39;</span>,<span style=color:#e6db74>&#39;B4&#39;</span>,<span style=color:#e6db74>&#39;B3&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0.3</span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>filtered</span>, <span style=color:#a6e22e>trueColor</span>, <span style=color:#e6db74>&#39;True color image collection&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>filtered</span>, <span style=color:#a6e22e>falseColor</span>, <span style=color:#e6db74>&#39;False color image collection&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>median</span>, <span style=color:#a6e22e>trueColor</span>, <span style=color:#e6db74>&#39;median&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>otherMedian</span>, 
</span></span><span style=display:flex><span>  {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;B4_median&#39;</span>,<span style=color:#e6db74>&#39;B3_median&#39;</span>,<span style=color:#e6db74>&#39;B2_median&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0.3</span>},
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;another median&#39;</span>);
</span></span></code></pre></div><h3 id=gee_tutorial_02js>gee_tutorial_02.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// First take an image and show it
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trueColor</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;B4&#39;</span>,<span style=color:#e6db74>&#39;B3&#39;</span>,<span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0.3</span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#e6db74>&#39;LANDSAT/LC8_L1T_TOA/LC81930282013158LGN00&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>image</span>, <span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>, <span style=color:#a6e22e>trueColor</span>, <span style=color:#e6db74>&#39;Image&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// How to compute NDVI, in several ways:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 1. Directly
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>red</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#e6db74>&#39;B4&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>nir</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#e6db74>&#39;B5&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ndvi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>nir</span>.<span style=color:#a6e22e>subtract</span>(<span style=color:#a6e22e>red</span>).<span style=color:#a6e22e>divide</span>(<span style=color:#a6e22e>nir</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>red</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// nvdi visualization properties
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ndvi_visprops</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>palette</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;FFFFFF&#39;</span>, <span style=color:#e6db74>&#39;FF0000&#39;</span>, <span style=color:#e6db74>&#39;00FF00&#39;</span>]};
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>ndvi</span>, <span style=color:#a6e22e>ndvi_visprops</span>, <span style=color:#e6db74>&#39;NDVI 1&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 2. Using existing function
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>ndvi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>normalizedDifference</span>([<span style=color:#e6db74>&#39;B5&#39;</span>,<span style=color:#e6db74>&#39;B4&#39;</span>]);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>ndvi</span>, <span style=color:#a6e22e>ndvi_visprops</span>, <span style=color:#e6db74>&#39;NDVI 2&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 3. Using a function
</span></span></span><span style=display:flex><span><span style=color:#75715e>//    =&gt; will be useful later when applied to an image collection
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Alternatively
</span></span></span><span style=display:flex><span><span style=color:#75715e>// var addNDVI = function addNDVI(image) {
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>addNDVI</span>(<span style=color:#a6e22e>image</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ndvi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>normalizedDifference</span>([<span style=color:#e6db74>&#39;B5&#39;</span>,<span style=color:#e6db74>&#39;B4&#39;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>addBands</span>(<span style=color:#a6e22e>ndvi</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Using our function to compute the NDVI an add it as a new band
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>withNDVI</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>addNDVI</span>(<span style=color:#a6e22e>image</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>withNDVI</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>withNDVI</span>.<span style=color:#a6e22e>select</span>([<span style=color:#e6db74>&#39;nd&#39;</span>]), <span style=color:#a6e22e>ndvi_visprops</span>, <span style=color:#e6db74>&#39;NDVI 3&#39;</span>);
</span></span></code></pre></div><h3 id=gee_tutorial_03js>gee_tutorial_03.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/**** Start of imports. If edited, may not auto-convert in the playground. ****/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>l8</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>ImageCollection</span>(<span style=color:#e6db74>&#34;LANDSAT/LC8_L1T_TOA&#34;</span>),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>point</span> <span style=color:#f92672>=</span> <span style=color:#75715e>/* color: ff0000 */</span><span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Geometry</span>.<span style=color:#a6e22e>Point</span>([<span style=color:#f92672>-</span><span style=color:#ae81ff>0.48614501953125</span>, <span style=color:#ae81ff>39.715638134796336</span>]),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>geometry</span> <span style=color:#f92672>=</span> <span style=color:#75715e>/* color: 00ff00 */</span><span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Geometry</span>.<span style=color:#a6e22e>Polygon</span>(
</span></span><span style=display:flex><span>        [[[<span style=color:#f92672>-</span><span style=color:#ae81ff>0.545196533203125</span>, <span style=color:#ae81ff>39.7642140375156</span>],
</span></span><span style=display:flex><span>          [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.5328369140625</span>, <span style=color:#ae81ff>39.6765413702479</span>],
</span></span><span style=display:flex><span>          [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.4449462890625</span>, <span style=color:#ae81ff>39.69239407904182</span>],
</span></span><span style=display:flex><span>          [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.45318603515625</span>, <span style=color:#ae81ff>39.79059962227577</span>]]]);
</span></span><span style=display:flex><span><span style=color:#75715e>/***** End of imports. If edited, may not auto-convert in the playground. *****/</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Example of:
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 1. Using &#39;map&#39; to apply a function in parallel to an image collection
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 2. Export the image to Google Drive
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 3. Obtain statictis in regions or points
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 4. Show an evolution chart
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trueColor</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;B4&#39;</span>,<span style=color:#e6db74>&#39;B3&#39;</span>,<span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0.3</span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>addNDVI</span>(<span style=color:#a6e22e>image</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ndvi</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>normalizedDifference</span>([<span style=color:#e6db74>&#39;B5&#39;</span>,<span style=color:#e6db74>&#39;B4&#39;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>addBands</span>(<span style=color:#a6e22e>ndvi</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>filtered</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>l8</span>.<span style=color:#a6e22e>filterDate</span>(<span style=color:#e6db74>&#39;2013-01-01&#39;</span>, <span style=color:#e6db74>&#39;2014-01-01&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Apply a function to an image collection
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>withNDVI</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>filtered</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>addNDVI</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Composites all the images in a collection,
</span></span></span><span style=display:flex><span><span style=color:#75715e>// using a quality band as a per-pixel ordering function.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>greenest</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>withNDVI</span>.<span style=color:#a6e22e>qualityMosaic</span>(<span style=color:#e6db74>&#39;nd&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>withNDVI</span>.<span style=color:#a6e22e>first</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>greenest</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>point</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>withNDVI</span>, <span style=color:#a6e22e>trueColor</span>, <span style=color:#e6db74>&#39;withNDVI&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>greenest</span>, <span style=color:#a6e22e>trueColor</span>, <span style=color:#e6db74>&#39;Greenest&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>greenest</span>, {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;nd&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>}, <span style=color:#e6db74>&#39;NDVI&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Export (this creates a task you must run after this script has finished)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Export</span>.<span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>toDrive</span>(<span style=color:#a6e22e>greenest</span>.<span style=color:#a6e22e>select</span>(<span style=color:#e6db74>&#39;nd&#39;</span>), <span style=color:#e6db74>&#39;withNDVI&#39;</span>, <span style=color:#e6db74>&#39;GEE&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// Export all bands (except BQA which is int and raises an error)
</span></span></span><span style=display:flex><span><span style=color:#75715e>//Export.image.toDrive(
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  greenest.select([&#39;B[1-11]&#39;,&#39;nd&#39;]), &#39;greenest&#39;, &#39;GEE&#39;);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Reduce regions:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>greenest</span>.<span style=color:#a6e22e>reduceRegion</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>mean</span>(), <span style=color:#a6e22e>geometry</span>, <span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>greenest</span>.<span style=color:#a6e22e>select</span>([<span style=color:#e6db74>&#39;nd&#39;</span>]).<span style=color:#a6e22e>reduceRegion</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>mean</span>(), <span style=color:#a6e22e>point</span>, <span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Charts
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Show the NDVI time series in a graph
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>ui</span>.<span style=color:#a6e22e>Chart</span>.<span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>series</span>(<span style=color:#a6e22e>withNDVI</span>.<span style=color:#a6e22e>select</span>(<span style=color:#e6db74>&#39;nd&#39;</span>), <span style=color:#a6e22e>point</span>));
</span></span></code></pre></div><h2 id=part-2-code>Part 2 Code</h2><br><h3 id=demospainclassjs>DemoSpainClass.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>countries</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>(<span style=color:#e6db74>&#39;ft:1tdSwUL7MVpOauSgRzqVTOwdfy17KDbw-1d9omPw&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>countries</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>spain</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>countries</span>.<span style=color:#a6e22e>filterMetadata</span>(<span style=color:#e6db74>&#39;Country&#39;</span>, <span style=color:#e6db74>&#39;equals&#39;</span>, <span style=color:#e6db74>&#39;Spain&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>spain</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// L7 image collection
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>landsat</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>ImageCollection</span>(<span style=color:#e6db74>&#34;LANDSAT/LE7_TOA_1YEAR&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// VLC point
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>point</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Geometry</span>.<span style=color:#a6e22e>Point</span>([<span style=color:#f92672>-</span><span style=color:#ae81ff>0.3330230712890625</span>, <span style=color:#ae81ff>39.480708957174556</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>// Water and class polygons (both near the cost)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>class_water</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Geometry</span>.<span style=color:#a6e22e>Polygon</span>(
</span></span><span style=display:flex><span>  [[[<span style=color:#f92672>-</span><span style=color:#ae81ff>0.2691650390625</span>, <span style=color:#ae81ff>39.51569536664155</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.27706146240234375</span>, <span style=color:#ae81ff>39.44388219489487</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.13423919677734375</span>, <span style=color:#ae81ff>39.43778393700683</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1242828369140625</span>, <span style=color:#ae81ff>39.52046261905615</span>]]]);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span>  <span style=color:#a6e22e>class_land</span> <span style=color:#f92672>=</span><span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Geometry</span>.<span style=color:#a6e22e>Polygon</span>(
</span></span><span style=display:flex><span>  [[[<span style=color:#f92672>-</span><span style=color:#ae81ff>0.46245574951171875</span>, <span style=color:#ae81ff>39.50165655681176</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.42022705078125</span>, <span style=color:#ae81ff>39.475955540420635</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.3659820556640625</span>, <span style=color:#ae81ff>39.44176112227503</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.339202880859375</span>, <span style=color:#ae81ff>39.51887357127223</span>],
</span></span><span style=display:flex><span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.4140472412109375</span>, <span style=color:#ae81ff>39.52867212011217</span>]]]);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>landsat</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#a6e22e>landsat</span>.<span style=color:#a6e22e>sort</span>(<span style=color:#e6db74>&#39;system:index&#39;</span>,<span style=color:#66d9ef>false</span>).<span style=color:#a6e22e>first</span>());
</span></span><span style=display:flex><span><span style=color:#75715e>//landsat = landsat.filterMetadata(&#39;system:index&#39;, &#39;equals&#39;,&#39;2014&#39;);
</span></span></span><span style=display:flex><span><span style=color:#75715e>//landsat = landsat.filterMetadata(&#39;system:index&#39;, &#39;equals&#39;,&#39;2014&#39;).reduce(ee.Reducer.sum());
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>landsat</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Create classes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>class_water</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Feature</span>(<span style=color:#a6e22e>class_water</span>).<span style=color:#a6e22e>set</span>({<span style=color:#e6db74>&#39;class&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>});
</span></span><span style=display:flex><span><span style=color:#a6e22e>class_land</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Feature</span>(<span style=color:#a6e22e>class_land</span>).<span style=color:#a6e22e>set</span>({<span style=color:#e6db74>&#39;class&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>1</span>});
</span></span><span style=display:flex><span><span style=color:#75715e>// Join them in a FeatureCollection
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>FC</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>([<span style=color:#a6e22e>class_water</span>,<span style=color:#a6e22e>class_land</span>]);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>FC</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Create training set sampling pixel from the image in the defined polygons
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>training</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>landsat</span>.<span style=color:#a6e22e>sampleRegions</span>(<span style=color:#a6e22e>FC</span>, [<span style=color:#e6db74>&#39;class&#39;</span>], <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>training</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Train a classifier with default parameters
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bands</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>landsat</span>.<span style=color:#a6e22e>bandNames</span>();
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>model</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Classifier</span>.<span style=color:#a6e22e>naiveBayes</span>().<span style=color:#a6e22e>train</span>(<span style=color:#a6e22e>training</span>, <span style=color:#e6db74>&#39;class&#39;</span>, <span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Classify the image with the same bands used for training.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>classified</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>landsat</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>).<span style=color:#a6e22e>classify</span>(<span style=color:#a6e22e>model</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//classified = classified.clip(spain);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Map.centerObject(point, 12);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>spain</span>, <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>landsat</span>.<span style=color:#a6e22e>clip</span>(<span style=color:#a6e22e>spain</span>), {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;B3&#39;</span>,<span style=color:#e6db74>&#39;B2&#39;</span>,<span style=color:#e6db74>&#39;B1&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>65</span>}, <span style=color:#e6db74>&#39;image&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>classified</span>, {<span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>palette</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;0000FF&#39;</span>, <span style=color:#e6db74>&#39;FF0000&#39;</span>], <span style=color:#a6e22e>opacity</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.5</span>}, <span style=color:#e6db74>&#39;classification&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//Map.addLayer(training, {}, &#39;training&#39;); 
</span></span></span></code></pre></div><h3 id=democlassificationjs>DemoClassification.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Use these bands for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bands</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;B2&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B5&#39;</span>, <span style=color:#e6db74>&#39;B6&#39;</span>, <span style=color:#e6db74>&#39;B7&#39;</span>, <span style=color:#e6db74>&#39;B10&#39;</span>, <span style=color:#e6db74>&#39;B11&#39;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Load a Landsat 8 image to be used for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#e6db74>&#39;LANDSAT/LC8_L1T_TOA/LC82320672013207LGN00&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e>//Map.addLayer(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>image</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Load training points. The numeric property &#39;class&#39; stores known labels.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>points</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>(<span style=color:#e6db74>&#39;ft:10X7SUjDTiFJDyIA58zLcptK8pwBwjj1BV12SQOgJ&#39;</span>)
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>remap</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], <span style=color:#e6db74>&#39;class&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(points)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Overlay the points on the imagery to get training.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>training</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>sampleRegions</span>(<span style=color:#a6e22e>points</span>, [<span style=color:#e6db74>&#39;class&#39;</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(training)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Train a CART classifier with default parameters.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trained</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Classifier</span>.<span style=color:#a6e22e>cart</span>().<span style=color:#a6e22e>train</span>(<span style=color:#a6e22e>training</span>, <span style=color:#e6db74>&#39;class&#39;</span>, <span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(trained)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Classify the image with the same bands used for training.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>classified</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>).<span style=color:#a6e22e>classify</span>(<span style=color:#a6e22e>trained</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Display the inputs and the results.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>image</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>, {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.05</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.14</span>}, <span style=color:#e6db74>&#39;image&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>classified</span>, {<span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>palette</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;00A000&#39;</span>, <span style=color:#e6db74>&#39;A00000&#39;</span>]}, <span style=color:#e6db74>&#39;classification&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>points</span>, {<span style=color:#e6db74>&#39;palette&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0000ff&#39;</span>, <span style=color:#e6db74>&#39;max&#39;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>}, <span style=color:#e6db74>&#39;training samples&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Exercise: try other classifiers
</span></span></span></code></pre></div><h3 id=demoregressionjs>DemoRegression.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// This function adds a time band to the image.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>createTimeBand</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>image</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Scale milliseconds by a large constant to avoid very small slopes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// in the linear regression output.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>addBands</span>(<span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>metadata</span>(<span style=color:#e6db74>&#39;system:time_start&#39;</span>).<span style=color:#a6e22e>divide</span>(<span style=color:#ae81ff>1e18</span>));
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Load the input image collection: projected climate data.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>collection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>ImageCollection</span>(<span style=color:#e6db74>&#39;NASA/NEX-DCP30_ENSEMBLE_STATS&#39;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>filterMetadata</span>(<span style=color:#e6db74>&#39;scenario&#39;</span>, <span style=color:#e6db74>&#39;equals&#39;</span>, <span style=color:#e6db74>&#39;rcp85&#39;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>filterDate</span>(<span style=color:#a6e22e>ee</span>.Date(<span style=color:#e6db74>&#39;2006-01-01&#39;</span>), <span style=color:#a6e22e>ee</span>.Date(<span style=color:#e6db74>&#39;2050-01-01&#39;</span>))
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Map the time band function over the collection.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  .<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>createTimeBand</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// Get scale from the projected mean precipitation band.
</span></span></span><span style=display:flex><span><span style=color:#75715e>//var scale = ee.Image(collection.first())
</span></span></span><span style=display:flex><span><span style=color:#75715e>//  .select([&#39;pr_mean&#39;]).projection().nominalScale();
</span></span></span><span style=display:flex><span><span style=color:#75715e>//print(scale)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Reduce the collection with the linear fit reducer.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Independent variable are followed by dependent variables.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>linearFit</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>collection</span>.<span style=color:#a6e22e>select</span>([<span style=color:#e6db74>&#39;system:time_start&#39;</span>, <span style=color:#e6db74>&#39;pr_mean&#39;</span>])
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>reduce</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>linearFit</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>linearFit</span>)
</span></span><span style=display:flex><span><span style=color:#75715e>// Display the results.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>setCenter</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>100.11</span>, <span style=color:#ae81ff>40.38</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>linearFit</span>,
</span></span><span style=display:flex><span>  {<span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>0.9</span>, <span style=color:#ae81ff>8e-5</span>, <span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;scale&#39;</span>, <span style=color:#e6db74>&#39;offset&#39;</span>, <span style=color:#e6db74>&#39;scale&#39;</span>]}, <span style=color:#e6db74>&#39;fit&#39;</span>);
</span></span></code></pre></div><h3 id=demoregressioncartjs>DemoRegressionCART.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/**** Start of imports. If edited, may not auto-convert in the playground. ****/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>imageCollection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>ImageCollection</span>(<span style=color:#e6db74>&#34;LANDSAT/LC8_L1T_ANNUAL_EVI&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>/***** End of imports. If edited, may not auto-convert in the playground. *****/</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#a6e22e>imageCollection</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Use these bands for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bands</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;B2&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B5&#39;</span>, <span style=color:#e6db74>&#39;B6&#39;</span>, <span style=color:#e6db74>&#39;B7&#39;</span>, <span style=color:#e6db74>&#39;B10&#39;</span>, <span style=color:#e6db74>&#39;B11&#39;</span>];
</span></span><span style=display:flex><span><span style=color:#75715e>// Load a Landsat 8 image to be used for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#e6db74>&#39;LANDSAT/LC8_L1T_TOA/LC82320672013207LGN00&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Load training points. The numeric property &#39;class&#39; stores known labels.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>points</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>(<span style=color:#e6db74>&#39;ft:10X7SUjDTiFJDyIA58zLcptK8pwBwjj1BV12SQOgJ&#39;</span>)
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>remap</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], <span style=color:#e6db74>&#39;class&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(points)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Regression model :
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Recortamos la imagen al area de la imagen Landsat
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>EVI</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#a6e22e>imageCollection</span>.<span style=color:#a6e22e>first</span>()).<span style=color:#a6e22e>clip</span>(<span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>geometry</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Generamos la imagen con las bandas y el output:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>addBands</span>(<span style=color:#a6e22e>EVI</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// Buscamos 100 pixeles random para entrenar:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>training</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image1</span>.<span style=color:#a6e22e>sample</span>({<span style=color:#a6e22e>numPixels</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>100</span>, <span style=color:#a6e22e>seed</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>});
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>training</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Aplicamos el CART pero en modo regression:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trained</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Classifier</span>.<span style=color:#a6e22e>cart</span>().<span style=color:#a6e22e>setOutputMode</span>(<span style=color:#e6db74>&#39;REGRESSION&#39;</span>).<span style=color:#a6e22e>train</span>(<span style=color:#a6e22e>training</span>, <span style=color:#e6db74>&#39;EVI&#39;</span>, <span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// Obtenemmos el output predecido:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>regression</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>classify</span>(<span style=color:#a6e22e>trained</span>,<span style=color:#e6db74>&#39;EVI_pred&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>regression</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Display the inputs and the results.
</span></span></span><span style=display:flex><span><span style=color:#75715e>// var colors = [&#39;FF0000&#39;, &#39;FFFF00&#39;, &#39;00FF00&#39;, &#39;00FFFF&#39;, &#39;0000FF&#39;, &#39;FF00FF&#39;];
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>colors_summer</span> <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;007F66&#39;</span>,<span style=color:#e6db74>&#39;048166&#39;</span>,<span style=color:#e6db74>&#39;088366&#39;</span>,<span style=color:#e6db74>&#39;0C8566&#39;</span>,<span style=color:#e6db74>&#39;108766&#39;</span>,<span style=color:#e6db74>&#39;148966&#39;</span>,<span style=color:#e6db74>&#39;188B66&#39;</span>,<span style=color:#e6db74>&#39;1C8D66&#39;</span>,<span style=color:#e6db74>&#39;208F66&#39;</span>,<span style=color:#e6db74>&#39;249166&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;289366&#39;</span>,<span style=color:#e6db74>&#39;2C9566&#39;</span>,<span style=color:#e6db74>&#39;309766&#39;</span>,<span style=color:#e6db74>&#39;349966&#39;</span>,<span style=color:#e6db74>&#39;389B66&#39;</span>,<span style=color:#e6db74>&#39;3C9D66&#39;</span>,<span style=color:#e6db74>&#39;409F66&#39;</span>,<span style=color:#e6db74>&#39;44A166&#39;</span>,<span style=color:#e6db74>&#39;48A366&#39;</span>,<span style=color:#e6db74>&#39;4CA566&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;50A766&#39;</span>,<span style=color:#e6db74>&#39;55AA66&#39;</span>,<span style=color:#e6db74>&#39;59AC66&#39;</span>,<span style=color:#e6db74>&#39;5DAE66&#39;</span>,<span style=color:#e6db74>&#39;61B066&#39;</span>,<span style=color:#e6db74>&#39;65B266&#39;</span>,<span style=color:#e6db74>&#39;69B466&#39;</span>,<span style=color:#e6db74>&#39;6DB666&#39;</span>,<span style=color:#e6db74>&#39;71B866&#39;</span>,<span style=color:#e6db74>&#39;75BA66&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;79BC66&#39;</span>,<span style=color:#e6db74>&#39;7DBE66&#39;</span>,<span style=color:#e6db74>&#39;81C066&#39;</span>,<span style=color:#e6db74>&#39;85C266&#39;</span>,<span style=color:#e6db74>&#39;89C466&#39;</span>,<span style=color:#e6db74>&#39;8DC666&#39;</span>,<span style=color:#e6db74>&#39;91C866&#39;</span>,<span style=color:#e6db74>&#39;95CA66&#39;</span>,<span style=color:#e6db74>&#39;99CC66&#39;</span>,<span style=color:#e6db74>&#39;9DCE66&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;A1D066&#39;</span>,<span style=color:#e6db74>&#39;A5D266&#39;</span>,<span style=color:#e6db74>&#39;AAD466&#39;</span>,<span style=color:#e6db74>&#39;AED666&#39;</span>,<span style=color:#e6db74>&#39;B2D866&#39;</span>,<span style=color:#e6db74>&#39;B6DA66&#39;</span>,<span style=color:#e6db74>&#39;BADC66&#39;</span>,<span style=color:#e6db74>&#39;BEDE66&#39;</span>,<span style=color:#e6db74>&#39;C2E066&#39;</span>,<span style=color:#e6db74>&#39;C6E266&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;CAE466&#39;</span>,<span style=color:#e6db74>&#39;CEE666&#39;</span>,<span style=color:#e6db74>&#39;D2E866&#39;</span>,<span style=color:#e6db74>&#39;D6EA66&#39;</span>,<span style=color:#e6db74>&#39;DAEC66&#39;</span>,<span style=color:#e6db74>&#39;DEEE66&#39;</span>,<span style=color:#e6db74>&#39;E2F066&#39;</span>,<span style=color:#e6db74>&#39;E6F266&#39;</span>,<span style=color:#e6db74>&#39;EAF466&#39;</span>,<span style=color:#e6db74>&#39;EEF666&#39;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;F2F866&#39;</span>,<span style=color:#e6db74>&#39;F6FA66&#39;</span>,<span style=color:#e6db74>&#39;FAFC66&#39;</span>,<span style=color:#e6db74>&#39;FFFF66&#39;</span>]
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;007F66&#39;</span>,<span style=color:#e6db74>&#39;208F66&#39;</span>,<span style=color:#e6db74>&#39;409F66&#39;</span>,<span style=color:#e6db74>&#39;61B066&#39;</span>,<span style=color:#e6db74>&#39;81C066&#39;</span>,<span style=color:#e6db74>&#39;A1D066&#39;</span>,<span style=color:#e6db74>&#39;C2E066&#39;</span>,<span style=color:#e6db74>&#39;E2F066&#39;</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>image</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>, {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>min</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0.05</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.14</span>}, <span style=color:#e6db74>&#39;image&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>points</span>,{<span style=color:#e6db74>&#39;palette&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0000ff&#39;</span>, <span style=color:#e6db74>&#39;max&#39;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>}, <span style=color:#e6db74>&#39;training_samples&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>EVI</span>, {<span style=color:#e6db74>&#39;palette&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>colors</span>}, <span style=color:#e6db74>&#39;EVI&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>regression</span>, {<span style=color:#e6db74>&#39;palette&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>colors</span>}, <span style=color:#e6db74>&#39;EVI_predicted&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Validacin:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>validation</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>image1</span>.<span style=color:#a6e22e>addBands</span>(<span style=color:#a6e22e>regression</span>)).<span style=color:#a6e22e>sample</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>numPixels</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>seed</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span><span style=color:#75715e>//print(validation)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// var validated = validation.classify(trained);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>validation</span>.<span style=color:#a6e22e>limit</span>(<span style=color:#ae81ff>3</span>)) <span style=color:#75715e>//sqrt(mean((Labels-PreLabels).^2))
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>error</span>(<span style=color:#a6e22e>fc</span>){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>label</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.Number(<span style=color:#a6e22e>fc</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;EVI&#39;</span>));
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>pred</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.Number(<span style=color:#a6e22e>fc</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;EVI_pred&#39;</span>));
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fc</span>.<span style=color:#a6e22e>set</span>({<span style=color:#e6db74>&#39;error&#39;</span><span style=color:#f92672>:</span>(<span style=color:#a6e22e>label</span>.<span style=color:#a6e22e>subtract</span>(<span style=color:#a6e22e>pred</span>)).<span style=color:#a6e22e>pow</span>(<span style=color:#ae81ff>2</span>)});
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>(<span style=color:#a6e22e>validation</span>.<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>error</span>));
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>res</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>mean</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>select</span>([<span style=color:#e6db74>&#39;error&#39;</span>]).<span style=color:#a6e22e>reduceColumns</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>mean</span>(),[<span style=color:#e6db74>&#39;error&#39;</span>]).<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;mean&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>RMSE</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.Number(<span style=color:#a6e22e>mean</span>).<span style=color:#a6e22e>sqrt</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>RMSE</span>);
</span></span></code></pre></div><h3 id=democlusteringjs>DemoClustering.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>/**** Start of imports. If edited, may not auto-convert in the playground. ****/</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>imageCollection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>ImageCollection</span>(<span style=color:#e6db74>&#34;LANDSAT/LC8_L1T_ANNUAL_EVI&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>/***** End of imports. If edited, may not auto-convert in the playground. *****/</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#a6e22e>imageCollection</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Use these bands for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bands</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;B2&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B5&#39;</span>, <span style=color:#e6db74>&#39;B6&#39;</span>, <span style=color:#e6db74>&#39;B7&#39;</span>, <span style=color:#e6db74>&#39;B10&#39;</span>, <span style=color:#e6db74>&#39;B11&#39;</span>];
</span></span><span style=display:flex><span><span style=color:#75715e>// Load a Landsat 8 image to be used for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#e6db74>&#39;LANDSAT/LC8_L1T_TOA/LC82320672013207LGN00&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Load training points. The numeric property &#39;class&#39; stores known labels.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>points</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>(<span style=color:#e6db74>&#39;ft:10X7SUjDTiFJDyIA58zLcptK8pwBwjj1BV12SQOgJ&#39;</span>)
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>remap</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], <span style=color:#e6db74>&#39;class&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(points)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Clustering
</span></span></span><span style=display:flex><span><span style=color:#75715e>//var training = image.sampleRegions(points, [&#39;class&#39;]);
</span></span></span><span style=display:flex><span><span style=color:#75715e>//var EVI = ee.Image(imageCollection.first()).clip(image.geometry());
</span></span></span><span style=display:flex><span><span style=color:#75715e>//var image1 = image.addBands(EVI);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>training</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>sample</span>({<span style=color:#a6e22e>numPixels</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>100</span>, <span style=color:#a6e22e>seed</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>Names</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Feature</span>(<span style=color:#a6e22e>training</span>.<span style=color:#a6e22e>first</span>()).<span style=color:#a6e22e>propertyNames</span>().<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#39;system:index&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Names</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Names</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#39;class&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>Names</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>prClustering</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Clusterer</span>.<span style=color:#a6e22e>wekaKMeans</span>(<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>prClustering</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>prTrainClus</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>prClustering</span>.<span style=color:#a6e22e>train</span>(<span style=color:#a6e22e>training</span>, <span style=color:#a6e22e>Names</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>prTrainClus</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>prTrainClus</span>.<span style=color:#a6e22e>schema</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;00FFFF&#39;</span>, <span style=color:#e6db74>&#39;0000FF&#39;</span>,<span style=color:#e6db74>&#39;FFFF00&#39;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>RES</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>cluster</span>(<span style=color:#a6e22e>prTrainClus</span>); 
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>RES</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Display the inputs and the results.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>image</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>, {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.4</span>}, <span style=color:#e6db74>&#39;image&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>RES</span>, {<span style=color:#e6db74>&#39;max&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>2</span>,<span style=color:#e6db74>&#39;min&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>palette</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>colors</span>},<span style=color:#e6db74>&#39;Clustering&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>points</span>,{<span style=color:#e6db74>&#39;palette&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0000ff&#39;</span>, <span style=color:#e6db74>&#39;max&#39;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>}, <span style=color:#e6db74>&#39;Training points&#39;</span>);
</span></span></code></pre></div><h3 id=democlassificationwithstatisticsjs>DemoClassificationWithStatistics.js</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>// Use these bands for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>bands</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;B2&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B5&#39;</span>, <span style=color:#e6db74>&#39;B6&#39;</span>, <span style=color:#e6db74>&#39;B7&#39;</span>, <span style=color:#e6db74>&#39;B10&#39;</span>, <span style=color:#e6db74>&#39;B11&#39;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Load a Landsat 8 image to be used for prediction.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Image</span>(<span style=color:#e6db74>&#39;LANDSAT/LC8_L1T_TOA/LC82320672013207LGN00&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>image</span><span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(image)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Load training points. The numeric property &#39;class&#39; stores known labels.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>points</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>FeatureCollection</span>(<span style=color:#e6db74>&#39;ft:10X7SUjDTiFJDyIA58zLcptK8pwBwjj1BV12SQOgJ&#39;</span>)
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>remap</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], <span style=color:#e6db74>&#39;class&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// print(points)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Split featureCollection in train and test:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>points</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>points</span>.<span style=color:#a6e22e>randomColumn</span>();
</span></span><span style=display:flex><span><span style=color:#75715e>// print(points);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trainPoints</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>points</span>.<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Filter</span>.<span style=color:#a6e22e>gt</span>(<span style=color:#e6db74>&#39;random&#39;</span>, <span style=color:#ae81ff>0.25</span>));
</span></span><span style=display:flex><span><span style=color:#75715e>// print(trainPoints)
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Overlay the points on the imagery to get training.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>training</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>sampleRegions</span>(<span style=color:#a6e22e>trainPoints</span>, [<span style=color:#e6db74>&#39;class&#39;</span>]);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(training)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Train a CART classifier with default parameters.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trained</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Classifier</span>.<span style=color:#a6e22e>cart</span>().<span style=color:#a6e22e>train</span>(<span style=color:#a6e22e>training</span>, <span style=color:#e6db74>&#39;class&#39;</span>, <span style=color:#a6e22e>bands</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>//print(trained)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// training
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>trainAccuracy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>trained</span>.<span style=color:#a6e22e>confusionMatrix</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#39;Resubstitution error matrix: &#39;</span>, <span style=color:#a6e22e>trainAccuracy</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#39;Training overall accuracy: &#39;</span>, <span style=color:#a6e22e>trainAccuracy</span>.<span style=color:#a6e22e>accuracy</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#39;Training Kappa: &#39;</span>, <span style=color:#a6e22e>trainAccuracy</span>.<span style=color:#a6e22e>kappa</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>trainAccuracy</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>matrixDiagonal</span>().<span style=color:#a6e22e>reduce</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>sum</span>(),[<span style=color:#ae81ff>0</span>]));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// test
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>testPoints</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>points</span>.<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Filter</span>.<span style=color:#a6e22e>lte</span>(<span style=color:#e6db74>&#39;random&#39;</span>, <span style=color:#ae81ff>0.25</span>));
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>testingSet</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>sampleRegions</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>collection</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>testPoints</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>properties</span><span style=color:#f92672>:</span>[<span style=color:#e6db74>&#39;class&#39;</span>]});
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ClassifiedTest</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>testingSet</span>.<span style=color:#a6e22e>classify</span>(<span style=color:#a6e22e>trained</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>testAccuracy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ClassifiedTest</span>.<span style=color:#a6e22e>errorMatrix</span>(<span style=color:#e6db74>&#39;class&#39;</span>, <span style=color:#e6db74>&#39;classification&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#39;Test error matrix: &#39;</span>, <span style=color:#a6e22e>testAccuracy</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#39;Test overall accuracy: &#39;</span>, <span style=color:#a6e22e>testAccuracy</span>.<span style=color:#a6e22e>accuracy</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#39;Test kappa: &#39;</span>, <span style=color:#a6e22e>testAccuracy</span>.<span style=color:#a6e22e>kappa</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>testAccuracy</span>.<span style=color:#a6e22e>array</span>().<span style=color:#a6e22e>matrixDiagonal</span>().<span style=color:#a6e22e>reduce</span>(<span style=color:#a6e22e>ee</span>.<span style=color:#a6e22e>Reducer</span>.<span style=color:#a6e22e>sum</span>(),[<span style=color:#ae81ff>0</span>]));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Classify the image with the same bands used for training.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>classified</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>image</span>.<span style=color:#a6e22e>select</span>(<span style=color:#a6e22e>bands</span>).<span style=color:#a6e22e>classify</span>(<span style=color:#a6e22e>trained</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Display the inputs and the results.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>centerObject</span>(<span style=color:#a6e22e>image</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>image</span>, {<span style=color:#a6e22e>bands</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;B4&#39;</span>, <span style=color:#e6db74>&#39;B3&#39;</span>, <span style=color:#e6db74>&#39;B2&#39;</span>], <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.4</span>}, <span style=color:#e6db74>&#39;image&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>classified</span>, {<span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>palette</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;00FF00&#39;</span>, <span style=color:#e6db74>&#39;FF0000&#39;</span>]},
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;classification&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Map</span>.<span style=color:#a6e22e>addLayer</span>(<span style=color:#a6e22e>points</span>,{
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;palette&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0000ff&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;max&#39;</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>});
</span></span></code></pre></div><h2 id=gee-course-material-1>GEE Course Material</h2><br><h3 id=external-resources-from-gee-developers>External Resources from GEE Developers</h3><ul><li><a href="https://docs.google.com/presentation/d/1tOOBDLodQ4tyW2ldaDGVMTd8R6IPSTlfm_ddu9x33jc/edit#slide=id.p">Overview</a></li><li><a href="https://docs.google.com/presentation/d/1jk48iXp1DvGRl65pKHruV-InQX3B6GP7dH39sDyiens/edit#slide=id.g4954714e1_18">Introduction</a></li><li><a href="https://docs.google.com/presentation/d/1BbMtoS8wvU_RrsnzxR31le58ZPzLzj-aa43ZQOYXAiM/edit#slide=id.ga42bbbf0f_0_0">Advanced API</a></li><li><a href="https://docs.google.com/presentation/d/1A5bRots9uoQXd-ERfnF7wqB9MGLS9XFG7ABXsMNknQk/edit#slide=id.g64cc58566_0_0">2016 Advanced API</a></li><li><a href="https://docs.google.com/presentation/d/1N7W09Njvz9ROrarp8SspA0kSC17Z0bzBbzTxCxskdYI/edit#slide=id.g494020760_258">2016 Python API</a></li></ul></p></div></div></main></body><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js integrity=sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL crossorigin=anonymous defer></script><script type=text/javascript src=https://cdn.jsdelivr.net/gh/pcooksey/bibtex-js@1.0.0/src/bibtex_js.min.js defer></script></html>